<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script>
			
			// var string = "19912345678";
			
			// var re = new RegExp("1[3-9][0-9]{9}$");
			// var re = new RegExp("^1[3-9]\\d{9}$");
			
			// var re = new RegExp("^(13\\d|14[5-9]|15[0-35-9]|166|17[0-8]|18\\d|19[8-9])\\d{8}$");
			
			// var re = /^1[3-9]\d{9}$/;
			// 
			// window.alert(re.test(string));
			
			// 随堂练习题1: 判断一个字符串是否是一个有效的年月日：  YYYY-MM-DD  (2019-05-13)
			// 随堂练习题2: 判断一个字符串是否是一个有效的座机号码: 028-12345678  0832-1234567
			// 随堂练习题3: 利用正则表达式完成基础练习12题: 判断一个字符串是否是一个有效的数字.
			
			
			
			/**
			 * a)	区号3位或4位
				b)	号码7位或8位
				c)	区号为3位的，号码一定是8位
				d)	中间必须有一个短线
				e)	区号和号码必须是数字
				f)	区号必须以0开头
				g)	号码第1位不能是0
				// 可能的BUG：短线存在多个的情况
			 */
			function checkTel(number) {
				if (number.length < 12 || number.length > 13) {
					return false;
				}
				
				for (var i=0; i<number.length; i++) {
					var code = number.charCodeAt(i);
					if ((code < 48 && code != 45) || code > 57) {
						return false;
					}
				}
				
				var dash = number.indexOf("-");
				
				if (dash < 0) {
					return false;
				}
				
				var area = dash;
				var tel = number.length - dash -1;
				
				if ((area == 3 || area == 4) && (tel == 7 || tel == 8)) {
					if (area == 3 && tel == 8) {
						return true;
					}
					else if (area == 4) {
						return true;
					}
					else {
						return false;
					}
				}
				else {
					return false;
				}
			}
			
			
			function checkTelRE(number) {
				// var re1 = /^0\d{2,3}-\d{7,8}/;
				// return re1.test(number);
				
				var re1 = /^0\d{2}-[1-9]\d{7}$/;
				var re2 = /^0\d{3}-[1-9]\d{6,7}$/;
				var result = re1.test(number) || re2.test(number);
				return result;
			}
			
			// window.alert(checkTel("028-123-5678"));
			// window.alert(checkTel("128-12345678"));
			// window.alert(checkTel("0288-1234567"));
			// window.alert(checkTel("028-1234567"));
			
			// window.alert(checkTelRE("028-12345678"));
			window.alert(checkTelRE("0832-1234678"));
			
		</script>
	</head>
	<body>
	</body>
</html>
